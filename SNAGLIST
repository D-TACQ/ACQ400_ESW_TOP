ACQ400DRV: 
./make.zynq package
cp cal/* opkg/usr/local/cal
cp: target ‘opkg/usr/local/cal’ is not a directory
make: *** [opkgcp] Error 

hmm.. rm -Rf opkg; ./make.zynq release ... fixes

make[1]: Leaving directory `/home/peter/PROJECTS/ACQ400_ESW_TOP/ACQ400DRV'
cp ../DRIVERS/emlog/nbcat  opkg/usr/local/bin
cp: cannot stat ‘../DRIVERS/emlog/nbcat’: No such file or directory
make: *** [emlog] Error 1

MORE joy!
.. make ACQ400DRV/DRIVERS a subdirectory, then emlog etc become git submodules...

acq400ioc:
../acq400_judgement.cpp:32:22: fatal error: acq-util.h: No such file or directory
 #include "acq-util.h"


We have a build! Do we want users to tag?
  MODPOST 1 modules
make[3]: Leaving directory `/home/peter/PROJECTS/ACQ400_ESW_TOP/acq400_kernel'
make[2]: Leaving directory `/home/peter/PROJECTS/ACQ400_ESW_TOP/DRIVERS-OOK/emlog'
make[1]: Leaving directory `/home/peter/PROJECTS/ACQ400_ESW_TOP/DRIVERS-OOK'
‘../DRIVERS-OOK/AD5686/ad5686.ko’ -> ‘modules_output/ad5686.ko’
‘../DRIVERS-OOK/AD5686/ad5696-i2c.ko’ -> ‘modules_output/ad5696-i2c.ko’
‘../DRIVERS-OOK/ISL22313/isl22313.ko’ -> ‘modules_output/isl22313.ko’
‘../DRIVERS-OOK/SI5326/si5326.ko’ -> ‘modules_output/si5326.ko’
‘../DRIVERS-OOK/emlog/emlog.ko’ -> ‘modules_output/emlog.ko’
FINISHED: release/packageko-4.14.0-acq400-xilinx-g4cd1b64-230403231729.img size:11592
echo do NOT rm -Rf opkg/*
do NOT rm -Rf opkg/etc opkg/usr
mkdir -p release
tar czf release/10-acq420-230403231729.tgz -C opkg .
created package release/10-acq420-230403231729.tgz
rm -f ../PACKAGES/10-acq420*
git tag -a -m 10-acq420-230403231729.tgz r230403231729 

*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
Omit --global to set the identity only in this repository.

fatal: empty ident name (for <peter@naboo.d-tacq>) not allowed
make: *** [package] Error 128


peter@naboo ACQ400DRV]$ ls -l release/
total 12060
-rw-rw-r-- 1 peter peter   477957 Apr  3 23:17 10-acq420-230403231729.tgz
-rw-r--r-- 1 peter peter 11870208 Apr  3 23:17 packageko-4.14.0-acq400-xilinx-g4cd1b64-230403231729.img


[pgm@hoy5 ACQ420FMC]$ ls -lt release/ | head
total 7720800
-rw-r--r-- 1 pgm pgm   511549 Apr  3 22:00 10-acq420-230403220027.tgz
-rw-r--r-- 1 pgm pgm 12685312 Apr  3 22:00 packageko-4.14.0-acq400-xilinx-230403220027.img


=> SMALL! probably missing some bits. Or maybe we lost some crud?.

20220406 : Add remaining packages, create a package dir
 1008  git submodule update --remote ACQ400DRV
 1014  git submodule add https://github.com/D-TACQ/ACQ400_TRANSIENT.git
 1016  git submodule update --remote ACQ400_TRANSIENT
 1021  mkdir PACKAGES
 1022  git add PACKAGES
 1023  git submodule add https://github.com/D-TACQ/ACQ400_AI_MONITOR.git
 1024  git submodule update --remote ACQ400_AI_MONITOR

OK: policy for shared library

ESW_TOP/include
ESW_TOP/lib/ARCH

ACQ400DRV creates them
acq400ioc links them 

end of.

# MAKING A RELEASE
Making a master_version_host
git submodule set-url ACQ400RELEASE git@github.com:D-TACQ/ACQ400RELEASE.git
cd ACQ400RELEASE/
git checkout master
git pull origin master

BUILDING for master FAIL:
- we're in a detached head, so we can't upload .version. So the version never increments.
- research: how to avoid detached head.


